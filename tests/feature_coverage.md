# 测试覆盖矩阵

## 使用方法

### 1. 开发新功能前填写

```markdown
| 功能 | 用户操作 | 预期结果 | 单元测试 | 集成测试 | E2E测试 |
|------|---------|---------|---------|---------|--------|
| 休息节点 | 点击休息节点 | 进入Rest状态，恢复HP | ✅ | ✅ | ✅ |
| 商店节点 | 点击商店节点 | 进入Shop状态 | ✅ | ✅ | ✅ |
```

### 2. 按矩阵检查覆盖率

- ✅ = 已测试
- ⚠️ = 部分测试
- ❌ = 未测试

## 当前游戏覆盖矩阵

### 核心循环

| 功能 | 用户操作 | 预期结果 | 单元 | 集成 | E2E |
|------|---------|---------|------|------|-----|
| 开始游戏 | 点击开始 | 进入地图 | ✅ | ✅ | ✅ |
| 战斗节点 | 点击战斗节点 | 进入战斗 | ✅ | ✅ | ✅ |
| 出牌 | 点击卡牌 | 消耗能量，执行效果 | ✅ | ✅ | ✅ |
| 结束回合 | 点击按钮 | 敌人行动 | ✅ | ✅ | ✅ |
| 胜利 | 敌人死亡 | 进入奖励 | ✅ | ✅ | ✅ |
| 失败 | 玩家死亡 | 游戏结束 | ✅ | ✅ | ✅ |

### 地图节点

| 功能 | 用户操作 | 预期结果 | 单元 | 集成 | E2E |
|------|---------|---------|------|------|-----|
| 普通节点 | 点击 | 战斗 | ❌ | ❌ | ❌ |
| 精英节点 | 点击 | 战斗(强敌) | ❌ | ❌ | ❌ |
| Boss节点 | 点击 | 战斗(Boss) | ❌ | ❌ | ❌ |
| **休息节点** | **点击** | **恢复HP** | **❌** | **❌** | **❌** |
| **商店节点** | **点击** | **进入商店** | **❌** | **❌** | **❌** |
| 宝箱节点 | 点击 | 获得奖励 | ❌ | ❌ | ❌ |

### 特殊功能

| 功能 | 用户操作 | 预期结果 | 单元 | 集成 | E2E |
|------|---------|---------|------|------|-----|
| 遗物获取 | 选择遗物 | 加入收藏 | ✅ | ✅ | ⚠️ |
| 遗物效果 | 战斗开始 | 触发效果 | ✅ | ✅ | ⚠️ |
| 商店购买 | 点击商品 | 扣金币，获得物品 | ✅ | ❌ | ❌ |
| **休息恢复** | **点击任意** | **HP增加，返回地图** | **❌** | **❌** | **❌** |

## 缺失测试统计

- 完全覆盖：6项
- 部分覆盖：3项
- 零覆盖：10项 ⚠️

## 下一步

1. ❌ 编写地图节点点击集成测试
2. ❌ 编写休息功能E2E测试
3. ❌ 编写商店交互E2E测试
